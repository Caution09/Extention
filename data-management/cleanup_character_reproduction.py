#!/usr/bin/env python3
# -*- coding: utf-8 -*-

# 削除対象のキャラクター再現項目（独断と偏見）
characters_to_remove = [
    # 古い作品で現在需要が少ないもの
    ("キャラクター再現", "Air", "神尾観鈴"),  # Airは古い
    ("キャラクター再現", "Charlotte", "友利奈緒"),  # 需要減少
    ("キャラクター再現", "WORKING!!", "伊波まひる"),  # 古いアニメ
    ("キャラクター再現", "WORKING!!", "山田葵"),
    ("キャラクター再現", "WORKING!!", "種島ぽぷら"),
    ("キャラクター再現", "WORKING!!", "轟八千代"),
    
    # 単発・マイナー作品
    ("キャラクター再現", "あの日見た花の名前を僕達はまだ知らない。", "安城鳴子（あなる）"),
    ("キャラクター再現", "あの日見た花の名前を僕達はまだ知らない。", "本間芽衣子（めんま）"),
    
    # 古いプリキュアシリーズ（最近のは残す）
    ("キャラクター再現", "Yes! プリキュア5", "夏木りん"),
    ("キャラクター再現", "Yes! プリキュア5", "夢原のぞみ"),
    ("キャラクター再現", "Yes! プリキュア5", "春日野うらら"),
    ("キャラクター再現", "Yes! プリキュア5", "水無月かれん"),
    ("キャラクター再現", "Yes! プリキュア5", "秋元こまち"),
    ("キャラクター再現", "ふたりはプリキュア", "美墨なぎさ"),
    ("キャラクター再現", "ふたりはプリキュア", "雪城ほのか"),
    ("キャラクター再現", "ふたりはプリキュア Max Heart", "九条ひかり"),
    
    # 古いアニメ・ゲーム
    ("キャラクター再現", "桜大戦", "真宮寺さくら"),  # typo + 古い
    ("キャラクター再現", "桜大戦", "神崎すみれ"),
    ("キャラクター再現", "To Heart", "保科智子"),
    ("キャラクター再現", "To Heart", "宮内レミィ"),
    ("キャラクター再現", "To Heart", "来栖川綾香"),
    ("キャラクター再現", "To Heart", "来栖川芹香"),
    ("キャラクター再現", "To Heart", "松原葵"),
    ("キャラクター再現", "To Heart", "神岸あかり"),
    ("キャラクター再現", "トゥハート", "ルーシー・マリア・ミソラ"),
    ("キャラクター再現", "トゥハート", "十波由真"),
    ("キャラクター再現", "トゥハート", "向坂環"),
    ("キャラクター再現", "トゥハート", "姫百合珊瑚"),
    ("キャラクター再現", "トゥハート", "姫百合瑠璃"),
    ("キャラクター再現", "トゥハート", "小牧愛佳"),
    ("キャラクター再現", "トゥハート", "柚原このみ"),
    ("キャラクター再現", "トゥハート", "笹森花梨"),
    ("キャラクター再現", "トゥハート2", "中原小麦"),
    ("キャラクター再現", "トゥハート2", "国分寺こより"),
    
    # 重複・エラー系
    ("キャラクター再現", "Fate", "BB"),  # 重複エントリの片方
    ("キャラクター再現", "Fate", "謎のヒロインXオルタ(フォーリナー)"),  # 長すぎる・重複
    
    # マイナーアニメ
    ("キャラクター再現", "ナースウィッチ小麦ちゃんマジカルて", "中原小麦"),
    ("キャラクター再現", "シャイニングシリーズ", "エリカ・フォンティーヌ NAI v3 再現不可"),
    ("キャラクター再現", "シャイニングシリーズ", "グリシーヌ・ブルーメール"),
    ("キャラクター再現", "シャイニングシリーズ", "コクリコ・タルティーヌ"),
    ("キャラクター再現", "シャイニングシリーズ", "ジェミニ・サンライズ"),
    ("キャラクター再現", "シャイニングシリーズ", "ハナビ・キタオウジ"),
    ("キャラクター再現", "シャイニングシリーズ", "ロベリア・カルリーニ"),
    
    # v3再現不可の古いエントリ
    ("キャラクター再現", "サクラ大戦", "マリア・タチバナ v3 再現不可"),
    ("キャラクター再現", "サクラ大戦", "李紅蘭 NAI v3 再現不可"),
    ("キャラクター再現", "サクラ大戦", "桐島カンナ NAI v3 再現不可"),
    
    # 古い・マイナー
    ("キャラクター再現", "おジャ魔女どれみ", "妹尾あいこ"),
    ("キャラクター再現", "おジャ魔女どれみ", "春風どれみ"),
    ("キャラクター再現", "おジャ魔女どれみ", "瀬川おんぷ"),
    ("キャラクター再現", "おジャ魔女どれみ", "藤原はづき（NAI v3不安定）"),
    ("キャラクター再現", "おジャ魔女どれみ", "飛鳥ももこ"),
]

with open('マスターデータ.tsv', 'r', encoding='utf-8') as f:
    lines = f.readlines()

new_lines = []
removed_count = 0

for line in lines:
    parts = line.strip().split('\t')
    
    # キャラクター再現の削除対象チェック
    if len(parts) >= 3:
        key = (parts[0], parts[1], parts[2])
        if key in characters_to_remove:
            removed_count += 1
            print(f"削除: {parts[1]} - {parts[2]}")
            continue
    
    new_lines.append(line)

with open('マスターデータ.tsv', 'w', encoding='utf-8') as f:
    f.writelines(new_lines)

print(f"\n削除完了: {removed_count}項目を削除しました")