未登録項目.tsv処理結果報告書
生成日時: 2025-06-27

## 処理概要
未登録項目.tsvファイル（1,176エントリ）を既存マスターデータと照合し、
有効なエントリと無効なエントリに分離しました。

## 処理結果
- **総エントリ数**: 1,176件
- **有効エントリ**: 915件 (77.8%)
- **無効エントリ**: 261件 (22.2%)

### 有効エントリの内訳
- **再分類されたエントリ**: 325件 (35.5%)
- **元々有効だったエントリ**: 590件 (64.5%)

## 出力ファイル
1. **cleaned_valid.tsv** - 有効なエントリ（915件）
   マスターデータに追加可能なエントリ
   
2. **未登録項目_filtered.tsv** - 無効なエントリ（261件）
   手動レビューが必要なエントリ

## 有効エントリのカテゴリ分布（上位20位）
1. 成人向け > オプション: 90件
2. 動作 > 腕の動作: 65件
3. 表情・感情 > 性的な表情: 38件
4. テイスト > デザイナー: 30件
5. 服装 > 一式: 26件
6. 顔 > 目の形: 24件
7. 身体 > 胸: 20件
8. 動作 > ポーズ: 20件
9. 身体 > 肌: 19件
10. キャラクター > 東方: 19件
11. 成人向け > テンプレ: 19件
12. 服装 > オプション: 19件
13. 品質 > 高品質: 16件
14. 服装 > 下着: 15件
15. 顔 > 口: 15件
16. キャラクター > Fate: 13件
17. 身体 > 頭部: 13件
18. 動作 > 脚の動作: 13件
19. 場所 > 屋内: 12件
20. 動作 > 動作: 12件

## 無効エントリの原因分析（上位10位）
1. お気に > お気に: 95件
2. お気に > 未分類: 30件
3. 未分類 > Google翻訳: 17件
4. 翻訳中 > 翻訳中: 12件
5. [空] > Google翻訳: 9件
6. お気に入り > [空]: 9件
7. お気に入り > 未分類: 7件
8. その他 > 未分類: 5件
9. その他 > 絵柄: 5件
10. 絵柄 > イラストレーター: 4件

## 再分類の例
以下は無効カテゴリから有効カテゴリに自動再分類された例です：

### 服装関連
- `お気に入り > 未分類 > 黒ニーソ` → `服装 > 靴下 > 黒ニーソ`
- `お気に入り > 未分類 > スク水` → `服装 > 一式 > スク水`

### キャラクター関連
- `未分類 > Google翻訳 > ウサダ・ペコラ` → `キャラクター > Hololive > ウサダ・ペコラ`
- `キャラクター > Google翻訳 > レミリア` → `キャラクター > 東方 > レミリア`

### 成人向け関連
- `お気に > お気に > 串刺し` → `キャラクター > にじさんじ > 串刺し` (nijisanjiタグ検出)
- `お気に > 未分類 > プッシーピーク` → `成人向け > オプション > プッシーピーク`

### 身体・表情関連
- `お気に入り > 未分類 > エロテカ肌` → `身体 > 肌 > エロテカ肌`
- `お気に入り > 未分類 > 誘惑顔` → `表情・感情 > ポジティブな感情 > 誘惑顔`

## 処理アルゴリズム
1. **既存カテゴリ検証**: マスターデータとの完全一致チェック
2. **無効カテゴリ検出**: 「お気に」「お気に入り」「未分類」「Google翻訳」「翻訳中」
3. **プロンプト解析**: 英語プロンプト内容からカテゴリを推定
4. **キーワードマッチング**: 以下の分野での詳細マッチング
   - キャラクター（作品名、キャラクター名）
   - 成人向け（NSFW関連キーワード）
   - 服装（衣類、アクセサリー）
   - 身体部位
   - 動作・ポーズ
   - 表情・感情
   - 装飾・アクセサリー
   - 場所・背景
   - 品質・技術関連
   - カメラワーク
   - エフェクト

## 推奨事項
1. **cleaned_valid.tsv**をマスターデータに追加する前に、重複チェックを実行
2. **未登録項目_filtered.tsv**の内容を手動レビューし、適切なカテゴリを検討
3. 特に無効エントリの多い「お気に」「翻訳中」カテゴリのエントリを個別に確認

## 注意事項
- 再分類は英語プロンプトの内容に基づいて自動実行されました
- 一部のエントリは手動での最終確認が推奨されます
- キャラクター名の表記ゆれ（例：アークナイツ vs arkknights）は手動修正が必要な場合があります